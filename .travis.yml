matrix:
  include:
    - language: rust
      rust: 1.27.0
      cache: cargo
      before_install:
        - cd server

    - language: rust
      rust: 1.27.0
      cache: cargo
      before_install:
        - cd primitive-game
      install:
        - cargo build --verbose --target=wasm32-unknown-unknown
      script:
        - cargo build --verbose --target=wasm32-unknown-unknown; cargo test --verbose --target=wasm32-unknown-unknown

    - language: node_js
      node_js: 8
      cache:
        directories:
          - $HOME/.npm
      env:
        - NODE_ENV=development
      before_install:
        - cd client
      script:
        - npm run lint
        - npm run build

notifications:
  email: false
